<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>js Calculator</title>

  <style>
    td{
      width: 20px;
      height: 20px;
    }
    .button-area {
      text-align: center;
      width: 20px;
      height: 20px;
     }
  </style>

  <script type="text/javascript">
    var op = "";
    var n1 = "";
    var n2 = "";
    var result = "";

    function btn_clicked(selector) {
      var dispRef = document.getElementById('disp');

      if (selector == '=') {
        if (n1 == "" || op == "") {
          // 아무것도 입력하지 않았을 경우..
          alert("무엇인가 잘못되었습니다.");
          return;
        }
        // result..
        result = eval(n1 + op + n2);
        document.getElementById('disp').value = result;

        n1 = result;

        result = "";
        op = "";
        n2 = "";

        return;
      } else if (selector == '+' || selector == '-' || selector == '*' || selector == '/') {
        op = selector;
      } else if (op == "") {
        n1 += selector;
      } else {
        n2 += selector;
      }
      setting_disp(selector);
    }

    function setting_disp(selector) {
      document.getElementById('disp').value += selector;
    }
  </script>
</head>

<body>
  <input type="text" id="disp" value="" readonly style="width:100px">
  <table style="text-align:center">
    <script type="text/javascript">
      var index = 0;
      var txt = ['1', '2', '3', '+', '4', '5', '6', '-', '7', '8', '9', '*', '0', '.', '=', '/'];
      for (i = 0; i < 4; i++) {
        document.write("<tr>");
        for (j = 0; j < 4; j++) {
          document.write("<td> <input class=\"button-area\"type=\"button\" id=\"" + txt[index] + "\"value=\"" + txt[index] + "\" onclick=\"btn_clicked(id)\"></td>");
          index++;
        }
        document.write("</tr>");
      }
    </script>
  </table>
</body>

</html>
